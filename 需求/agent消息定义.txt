ä¼šè¯æ¨¡å¼ï¼Œç”¨æˆ·é€šè¿‡POST localhost:8090/agent/interactive/task/stream  å‘trae agentå‘é€ä¼šè¯ï¼Œå‰ç«¯æ¥æ”¶SSEæµå¼è¿”å›çš„æ¶ˆæ¯ï¼Œå¹¶å°†ç”¨æˆ·æ¶ˆæ¯ã€agentè¾“å‡ºæŒä¹…åŒ–ã€æµå¼æ‰“å°åˆ°æ¶ˆæ¯è®°å½•ä¸­ï¼ˆæ¶ˆæ¯æ°”æ³¡å½¢å¼ï¼‰
éœ€è¦æ˜¾ç¤ºçš„å†…å®¹ï¼š
- ç”¨æˆ·æäº¤çš„éœ€æ±‚ã€‚
- agentè¿”å›ä¿¡æ¯ï¼š
  1ã€LLM thinkingçŠ¶æ€ï¼Œæ‰“å°ï¼šğŸ¤”â€œthinkingâ€ï¼šllm_response.content
  æ¶ˆæ¯ç»“æ„ï¼š
{
  step_number: number,           // å½“å‰æ­¥éª¤ç¼–å·
  state: "thinking",             // çŠ¶æ€æ ‡è¯†
  llm_response: {
    content: string,             // LLMç”Ÿæˆçš„å®Œæ•´å›å¤å†…å®¹
    tool_calls: ToolCall[] | null, // å¯èƒ½åŒ…å«çš„å·¥å…·è°ƒç”¨
    usage: {                     // tokenä½¿ç”¨ç»Ÿè®¡
      prompt_tokens: number,
      completion_tokens: number,
      total_tokens: number
    }
  }
}
  2ã€calling toolsçŠ¶æ€ï¼Œæ‰“å°ï¼šğŸ”§"tools_call":tool_calls.nameã€tool_results.successã€tool_calls.content(if not null)
  æ¶ˆæ¯ç»“æ„ï¼š
  {
  step_number: number,
  state: "calling_tool",
  tool_calls: [{
    id: string,                  // å·¥å…·è°ƒç”¨å”¯ä¸€ID
    name: string,                // å·¥å…·åç§° (bash_tool, edit_toolç­‰)
    parameters: object           // å·¥å…·è°ƒç”¨å‚æ•°
  }],
  tool_results: [{
    id: string,                  // å¯¹åº”è°ƒç”¨ID
    success: boolean,            // æ‰§è¡ŒæˆåŠŸçŠ¶æ€
    content: string,             // å·¥å…·æ‰§è¡Œç»“æœå†…å®¹
    error?: string              // é”™è¯¯ä¿¡æ¯ï¼ˆå¤±è´¥æ—¶ï¼‰
  }]
}
  3ã€lakeviewæ€»ç»“ï¼Œæ‰“å°ï¼štags_emojiã€ desc_taskã€desc_detailsã€
  æ¶ˆæ¯ç»“æ„ï¼š
  {
  lakeview_step: {
    desc_task: string,           // å½“å‰æ­¥éª¤ä»»åŠ¡æè¿°
    desc_details: string,        // è¯¦ç»†è¯´æ˜
    tags_emoji: string          // å¸¦è¡¨æƒ…ç¬¦å·çš„åˆ†ç±»æ ‡ç­¾
  }
}
  4ã€reflectingçŠ¶æ€ï¼Œæ‰“å°ï¼šğŸ¤”â€œreflectingâ€ï¼šreflection
  æ¶ˆæ¯ç»“æ„ï¼š
  {
  step_number: number,
  state: "reflecting",
  reflection: string,            // åæ€å†…å®¹
  error?: string                // è§¦å‘åæ€çš„é”™è¯¯ä¿¡æ¯
}