
# 产品名称：Document IDE
# 部署要求
docker部署，避免接口冲突，dockfile持久化存储页面部署信息
# 技术实现要求
前端框架：选择合适的架构，在/Users/stylesu/Documents/Heils/Agent/document IDE 路径下脚手架
后端：使用/Users/stylesu/Documents/Heils/Agent/trae-agent/openapi/apifox-trae-agent.yaml 文档中提供的接口
markdown编辑器，嵌入：https://pandao.github.io/editor.md/examples/index.html
AI对话交互组件
文件列表组件

# 页面结构
## web端应用，采用1440px*1080px规格，自适应布局
## 结构说明
1、top区域，1440*60px，位于页面顶部
2、主视觉区，1440*1020px，位于top区域下方
左侧：文件列表：GET http://localhost:8090/api/files 单击文件，加载文件内容到markdown编辑器
中间：markdown编辑器：包括编辑区、预览区。通过docker容器内的路径读取文件内容，并进行渲染。
右侧：AI对话交互组件：包括上方历史消息区域（固定大小，无需头像，仅消息气泡），持续下拉到控件底部来预览最新agent消息。下方用户输入与提交。点击提交使用POST http://localhost:8090/agent/interactive/start 获取session_id、trajectory_file、working_dir。左侧列表指向获取到的working_dir，刷新文件列表。请求体使用：
{
    "config_file": "file:///app/trae_config.yaml",
    "working_dir": "/workspace/project",
    "provider": "openrouter",
    "model": "Qwen3-32B",
    "max_steps": 100,
    "console_type": "rich"
}

使用POST  http://localhost:8090/agent/interactive/task/stream 传入session_id=刚才获取的session_id，trajectory_file=刚才获取的trajectory_file，working_dir=刚才获取的working_dir，user_input=用户输入的消息。此时SSE持续接受的agent返回的消息，打印到消息历史区域。在前端收到已断开链接前，用户不能再次提交消息。


